<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Update Movie</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
</head>
<body>
<div class="container">
    <a class="btn btn-primary btn-lg" role="button" th:href="@{/movie/dashboard}">Return to homepage</a><h1>Movie Recommender</h1>
   <a class="btn btn-primary" style=" float: right; " href="#" th:href="@{/logout}"><span class="glyphicon glyphicon-log-out"></span> Logout</a>
  
  <hr>
  <h2>Update Movie</h2>

  <form th:action="@{/movie/saveMovie}" th:object="${movie}" method="post" enctype="multipart/form-data">
    <input type="hidden" th:field="*{id}">
    <img   th:src="${movie.movieImageEncoded} == null ? _ : @{'data:image/png;base64,'+${movieImageEncoded}}" class="card-img-top" alt="...">
    
    <input type="text" th:field="*{title}" class="form-control mb-4 col-4">
 <label>Movie Genres: (You can select more than one Genres.)</label>
              <select class="form-control" th:field="*{genres}" multiple="multiple">
              <option th:each="genres:${genresList}" th:value="${genres.id}" th:text="${genres.name} "></option>
          </select>
              <input type="text" th:field="*{description}" class="form-control mb-4 col-4">
    <input required type="file" name="image" accept="image/png, image/jpeg" placeholder="Movie Image" class="form-control mb-4 col-4">
    
  <label>Movie Language: (You can select more than one Language.)</label>
              <select class="form-control" th:field="*{languages}" multiple="multiple">
              <option th:each="lang:${langList}" th:value="${lang.id}" th:text="${lang.name} "></option>
          </select>
          <br>
          
              <button type="submit" class="btn btn-info col-2">Save Movie</button>
  </form>
</div>
</body>
</html>